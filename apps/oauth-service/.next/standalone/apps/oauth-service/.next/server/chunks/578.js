"use strict";exports.id=578,exports.ids=[578],exports.modules={1047:(e,t,r)=>{r.d(t,{$4:()=>E,BT:()=>u,Dm:()=>d,Dp:()=>l,Rb:()=>c,T0:()=>o,Ye:()=>i,h2:()=>A,i4:()=>a,ie:()=>s,n:()=>n,xb:()=>S});class a extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class s extends a{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",a="unspecified"){super(e,{cause:{claim:r,reason:a,payload:t}}),this.claim=r,this.reason=a,this.payload=t}}class n extends a{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",a="unspecified"){super(e,{cause:{claim:r,reason:a,payload:t}}),this.claim=r,this.reason=a,this.payload=t}}class c extends a{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class o extends a{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class i extends a{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class l extends a{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class d extends a{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class u extends a{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class E extends a{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class S extends a{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class A extends a{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}},20661:(e,t,r)=>{function a(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}r.d(t,{A:()=>s,t:()=>n});let s=(e,...t)=>a("Key must be ",e,...t);function n(e,t,...r){return a(`Key for the ${e} algorithm must be `,t,...r)}},46159:(e,t,r)=>{r.d(t,{A:()=>a});let a=e=>{if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},55212:(e,t,r)=>{r.d(t,{Og:()=>E,jU:()=>u});var a=r(88022),s=r(1047);let n=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let a=e.indexOf(t[0],r);if(-1===a)return!1;let s=e.subarray(a,a+t.length);return s.length===t.length&&(s.every((e,r)=>e===t[r])||n(e,t,a+1))},c=e=>{switch(!0){case n(e,[42,134,72,206,61,3,1,7]):return"P-256";case n(e,[43,129,4,0,34]):return"P-384";case n(e,[43,129,4,0,35]):return"P-521";default:return}},o=async(e,t,r,a,n)=>{let o,i,l=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),d="spki"===t;switch(a){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`},i=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`},i=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`},i=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},i=d?["verify"]:["sign"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},i=d?["verify"]:["sign"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},i=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=c(l);o=e?.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:"X25519"},i=d?[]:["deriveBits"];break}case"Ed25519":case"EdDSA":o={name:"Ed25519"},i=d?["verify"]:["sign"];break;default:throw new s.T0('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(t,l,o,n?.extractable??!!d,i)},i=(e,t,r)=>o(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);var l=r(63213),d=r(46159);async function u(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return i(e,t,r)}async function E(e,t,r){let n;if(!(0,d.A)(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,a.D)(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new s.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,l.A)({...e,alg:t,ext:n});default:throw new s.T0('Unsupported "kty" (Key Type) Parameter value')}}},55937:(e,t,r)=>{r.d(t,{D0:()=>s,Rd:()=>a,xW:()=>n});let a=new TextEncoder,s=new TextDecoder;function n(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let a of e)t.set(a,r),r+=a.length;return t}},63213:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(1047);let s=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new a.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new a.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new a.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new a.T0('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),s={...e};return delete s.alg,delete s.use,crypto.subtle.importKey("jwk",s,t,e.ext??!e.d,e.key_ops??r)}},68851:(e,t,r)=>{function a(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function s(e){return e?.[Symbol.toStringTag]==="KeyObject"}r.d(t,{Ay:()=>n,D2:()=>s,R7:()=>a});let n=e=>a(e)||s(e)},88022:(e,t,r)=>{r.d(t,{D:()=>s,l:()=>n});var a=r(55937);function s(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:a.D0.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=a.D0.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),a=new Uint8Array(e.length);for(let t=0;t<e.length;t++)a[t]=e.charCodeAt(t);return a}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function n(e){let t=e;return("string"==typeof t&&(t=a.Rd.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}}};