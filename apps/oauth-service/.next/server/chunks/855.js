exports.id=855,exports.ids=[855],exports.modules={55807:(e,r,s)=>{"use strict";s.d(r,{BX:()=>d,CE:()=>n,Cf:()=>o,Fw:()=>t,Pb:()=>c,gz:()=>R,iF:()=>l,j1:()=>p,jz:()=>u,v3:()=>i,yI:()=>a});var t=function(e){return e.InvalidRequest="invalid_request",e.InvalidClient="invalid_client",e.InvalidGrant="invalid_grant",e.UnauthorizedClient="unauthorized_client",e.UnsupportedGrantType="unsupported_grant_type",e.InvalidScope="invalid_scope",e.AccessDenied="access_denied",e.UnsupportedResponseType="unsupported_response_type",e.ServerError="server_error",e.TemporarilyUnavailable="temporarily_unavailable",e.InvalidToken="invalid_token",e.InsufficientScope="insufficient_scope",e}({});class o extends Error{constructor(e,r=500,s="INTERNAL_SERVER_ERROR",t){super(e),this.name=this.constructor.name,this.status=r,this.code=s,this.context=t}toApiResponse(){return{success:!1,error:{code:this.code,message:this.message,details:this.context}}}log(e=console,r){e.error({name:this.name,message:this.message,status:this.status,code:this.code,context:this.context,additionalContext:r,stack:this.stack})}}class n extends o{constructor(e="Resource not found.",r="RESOURCE_NOT_FOUND",s){super(e,404,r,s)}}class a extends o{constructor(e="Validation failed.",r,s="VALIDATION_ERROR"){super(e,400,s,r)}}class i extends o{constructor(e="Authentication failed.",r,s="AUTHENTICATION_FAILED"){super(e,401,s,r)}}class c extends o{constructor(e,r=400,s="TOKEN_ERROR",t){super(e,r,s,t)}}class u extends c{constructor(e="Token validation failed.",r,s="TOKEN_VALIDATION_FAILED"){super(e,401,s,r)}}class d extends u{constructor(e="Token has expired.",r){super(e,r,"TOKEN_EXPIRED")}}class l extends o{constructor(e="Cryptographic operation failed.",r){super(e,500,"CRYPTO_OPERATION_FAILED",r)}}class p extends o{constructor(e="System configuration error.",r){super(e,500,"CONFIGURATION_ERROR",r)}}class R extends o{constructor(e,r,s=400,t,o){super(e,s,r,o),this.oauth2ErrorCode=r,this.errorUri=t}toOAuth2Response(){let e={error:this.oauth2ErrorCode,error_description:this.message};return this.errorUri&&(e.error_uri=this.errorUri),e}toApiResponse(){let e=super.toApiResponse();return e.error&&this.errorUri&&(e.error.details={...e.error.details,error_uri:this.errorUri}),e}}},60123:(e,r,s)=>{"use strict";s.d(r,{FB:()=>i,Uj:()=>a});var t=s(57642),o=s(55807),n=s(90483);function a(e){return async(r,s)=>{let a=(0,n.A)();r.requestId=a;try{return await e(r,s)}catch(s){let e=a||(0,n.A)();if(function(e,r,s){let t={timestamp:new Date().toISOString(),requestId:s||"N/A",message:e.message||"An unknown error occurred.",name:e.name||"Error"};r&&(t.url=r.url,t.method=r.method,t.ip=r.headers.get("x-forwarded-for")||r.headers.get("x-real-ip")||"unknown",t.userAgent=r.headers.get("user-agent")),e instanceof o.Cf?(t.code=e.code,t.status=e.status,e.context&&(t.context=e.context)):(t.code="UNHANDLED_EXCEPTION",t.status=500),e.stack&&(t.stack=e.stack.split("\n").map(e=>e.trim())),console.error(JSON.stringify(t,null,2))}(s,r,e),s instanceof o.Cf){let r=s.toApiResponse();return r.error&&(r.error.details={...r.error.details,requestId:e}),t.NextResponse.json(r,{status:s.status})}return t.NextResponse.json({success:!1,error:{code:"INTERNAL_SERVER_ERROR",message:"An unexpected internal server error occurred.",details:{requestId:e}}},{status:500})}}}function i(e){return async(r,...s)=>{try{return await e(r,...s)}catch(e){if(console.error("API route error:",e),e instanceof o.Cf)return t.NextResponse.json({success:!1,error:e.code,message:e.message},{status:e.status});return t.NextResponse.json({success:!1,error:"INTERNAL_SERVER_ERROR",message:"An unexpected error occurred"},{status:500})}}}},64907:()=>{},70483:()=>{}};