# ================================
# Admin Portal - 生产环境配置示例
# ================================
# 复制此文件为 .env.local 并填写实际值
# 注意: .env.local 文件不应提交到版本控制系统

# ================================
# OAuth 客户端配置
# ================================
# OAuth Client ID (在 OAuth Service 中注册)
NEXT_PUBLIC_OAUTH_CLIENT_ID=admin-portal-client

# OAuth Client Secret (CONFIDENTIAL 类型客户端)
# 注意: 此密钥应通过安全渠道获取,不应硬编码
NEXT_PUBLIC_OAUTH_CLIENT_SECRET=CHANGE_THIS_TO_STRONG_SECRET_FROM_OAUTH_SERVICE

# OAuth 重定向 URI (必须与 OAuth Service 中注册的一致)
NEXT_PUBLIC_OAUTH_REDIRECT_URI=https://admin.yourdomain.com/auth/callback

# OAuth Scopes (请求的权限范围)
NEXT_PUBLIC_OAUTH_SCOPE=openid profile email offline_access

# ================================
# API 端点配置
# ================================
# API Base URL (通过 Pingora 代理)
NEXT_PUBLIC_API_BASE_URL=https://api.yourdomain.com/api/v2

# OAuth Service URL
NEXT_PUBLIC_OAUTH_SERVICE_URL=https://api.yourdomain.com/api/v2

# ================================
# 应用配置
# ================================
# 应用名称
NEXT_PUBLIC_APP_NAME=OAuth Admin Portal

# 应用版本
NEXT_PUBLIC_APP_VERSION=1.0.0

# 环境标识
NEXT_PUBLIC_ENVIRONMENT=production

# 应用 URL
NEXT_PUBLIC_APP_URL=https://admin.yourdomain.com

# ================================
# 安全配置
# ================================
# 环境模式
NODE_ENV=production

# Cookie 域名 (用于会话管理)
# 注意: 不设置则使用当前域名
# COOKIE_DOMAIN=.yourdomain.com

# CSRF Token 密钥
CSRF_SECRET=GENERATE_STRONG_RANDOM_STRING_32_CHARS_OR_MORE

# Session 密钥 (用于会话加密)
SESSION_SECRET=GENERATE_ANOTHER_STRONG_RANDOM_STRING_64_CHARS_OR_MORE

# ================================
# Token 存储策略
# ================================
# Token 存储位置: sessionStorage | localStorage | cookie
# 生产环境推荐: cookie (HttpOnly)
TOKEN_STORAGE=cookie

# ================================
# Next.js 配置
# ================================
# 禁用 Next.js 遥测
NEXT_TELEMETRY_DISABLED=1

# Next.js 公开运行时配置
NEXT_PUBLIC_RUNTIME_CONFIG=production

# ================================
# 构建配置
# ================================
# 启用源码映射 (生产环境建议禁用)
GENERATE_SOURCEMAP=false

# TypeScript 类型检查 (构建时)
TYPESCRIPT_TYPE_CHECK=true

# ESLint 检查 (构建时)
ESLINT_CHECK=true

# ================================
# 性能优化
# ================================
# 启用 Next.js 图片优化
NEXT_PUBLIC_ENABLE_IMAGE_OPTIMIZATION=true

# 图片域名白名单 (逗号分隔)
NEXT_PUBLIC_IMAGE_DOMAINS=yourdomain.com,cdn.yourdomain.com

# 启用 React Strict Mode
REACT_STRICT_MODE=true

# 启用 SWC 编译器
SWC_ENABLED=true

# ================================
# 日志配置
# ================================
# 日志级别: debug | info | warn | error
LOG_LEVEL=info

# 前端日志上报端点
NEXT_PUBLIC_LOG_ENDPOINT=https://api.yourdomain.com/api/v2/logs

# ================================
# 分析和监控
# ================================
# Google Analytics ID
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Sentry DSN (错误追踪)
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Sentry 环境
SENTRY_ENVIRONMENT=production

# Sentry 采样率
SENTRY_TRACES_SAMPLE_RATE=0.1

# ================================
# 功能开关
# ================================
# 启用调试工具 (仅开发环境)
NEXT_PUBLIC_ENABLE_DEBUG_TOOLS=false

# 启用性能监控
NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITORING=true

# 启用错误边界
NEXT_PUBLIC_ENABLE_ERROR_BOUNDARY=true

# ================================
# API 配置
# ================================
# API 请求超时 (毫秒)
API_TIMEOUT=30000

# API 重试次数
API_RETRY_COUNT=3

# API 重试延迟 (毫秒)
API_RETRY_DELAY=1000

# ================================
# CORS 配置
# ================================
# 允许的 API 来源
NEXT_PUBLIC_ALLOWED_API_ORIGINS=https://api.yourdomain.com

# ================================
# PWA 配置 (如果启用)
# ================================
# 启用 PWA
NEXT_PUBLIC_PWA_ENABLED=false

# PWA 名称
NEXT_PUBLIC_PWA_NAME=OAuth Admin Portal

# ================================
# CDN 配置
# ================================
# CDN 基础 URL (用于静态资源)
NEXT_PUBLIC_CDN_URL=https://cdn.yourdomain.com

# Asset Prefix (Next.js 资源前缀)
ASSET_PREFIX=https://cdn.yourdomain.com

# ================================
# 国际化配置
# ================================
# 默认语言
NEXT_PUBLIC_DEFAULT_LOCALE=zh-CN

# 支持的语言 (逗号分隔)
NEXT_PUBLIC_SUPPORTED_LOCALES=zh-CN,en-US

# ================================
# 缓存配置
# ================================
# SWR 缓存时间 (毫秒)
NEXT_PUBLIC_SWR_DEDUPE_INTERVAL=2000

# 页面缓存时间 (秒)
NEXT_PUBLIC_PAGE_CACHE_TTL=3600

# ================================
# 开发者选项 (仅用于开发环境)
# ================================
# 启用 React Query Devtools (仅开发环境)
# NEXT_PUBLIC_ENABLE_REACT_QUERY_DEVTOOLS=true

# 禁用 API Mock (仅开发环境)
# NEXT_PUBLIC_DISABLE_API_MOCK=true

# Mock 延迟 (毫秒, 仅开发环境)
# NEXT_PUBLIC_MOCK_DELAY=500

# ================================
# 数据库配置 (如果 Admin Portal 有独立数据库)
# ================================
# DATABASE_URL=postgresql://user:password@postgres-host:5432/admin_db?sslmode=require

# ================================
# 邮件通知 (可选)
# ================================
# SMTP_HOST=smtp.yourdomain.com
# SMTP_PORT=587
# SMTP_USER=admin@yourdomain.com
# SMTP_PASSWORD=STRONG_SMTP_PASSWORD

# ================================
# Webhook 配置 (可选)
# ================================
# Webhook 密钥 (用于验证 webhook 请求)
# WEBHOOK_SECRET=GENERATE_STRONG_WEBHOOK_SECRET

# ================================
# 备份和灾难恢复
# ================================
# 备份 API 端点 (故障转移)
# NEXT_PUBLIC_FALLBACK_API_URL=https://backup-api.yourdomain.com/api/v2
