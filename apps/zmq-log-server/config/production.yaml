# 生产环境配置
log_level: "info"

# ZMQ配置
zmq:
  enabled: true
  bind_address: "0.0.0.0"
  port: 5555
  recv_buffer_size: 10485760  # 10MB
  send_buffer_size: 10485760  # 10MB
  io_threads: 4
  high_watermark: 10000
  connect_timeout: 10s
  recv_timeout: 200ms
  send_timeout: 200ms

# 存储配置
storage:
  log_dir: "/var/log/zmq-log-service"
  max_file_size: 524288000  # 500MB
  max_files: 100
  enable_compression: true
  compression_level: 9
  buffer_size: 262144  # 256KB
  flush_interval: 10s
  write_queue_size: 50000
  enable_index: true
  index_flush_interval: 60s

# 处理器配置
processor:
  batch_size: 500
  batch_timeout: 200ms
  worker_threads: 8
  max_retries: 5
  retry_interval: 2s
  enable_validation: true
  enable_formatting: true
  time_format: "%Y-%m-%d %H:%M:%S%.3f"

# HTTP配置
http:
  enabled: true
  bind_address: "0.0.0.0"
  port: 3005
  worker_threads: 8
  max_connections: 5000
  request_timeout: 60s
  enable_cors: true
  enable_compression: true
  static_dir: null

# 监控配置
metrics:
  enabled: true
  bind_address: "0.0.0.0"
  port: 9090
  collect_interval: 30s
  enable_prometheus: true
  prometheus_path: "/metrics"

# 压缩配置
compression:
  algorithm: "zstd"
  level: 9
  min_size: 2048