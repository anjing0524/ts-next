# 前端页面设计

## 页面结构

### 认证相关页面
- `/auth/login` - 登录页面
- `/oauth/consent` - OAuth授权同意页
- `/auth/error` - 认证错误页面
- `/auth/callback` - OAuth回调处理

### 管理后台页面
- `/admin` - 仪表盘首页
- `/admin/users` - 用户管理
- `/admin/system/roles` - 角色管理
- `/admin/system/clients` - 客户端管理
- `/admin/system/permissions` - 权限管理
- `/admin/system/audits` - 审计日志
- `/admin/profile` - 个人资料

## 核心组件

### 认证组件
- `AuthProvider` - 认证状态管理
- `OAuthLoginButton` - OAuth登录按钮
- `UsernamePasswordForm` - 用户名密码登录表单
- `ConsentForm` - 授权同意表单

### 管理组件
- `Sidebar` - 侧边导航栏
- `UserTable` - 用户数据表格
- `RoleForm` - 角色表单
- `ClientForm` - 客户端表单
- `PermissionTree` - 权限树组件

### 通用组件
- `PermissionGuard` - 权限守卫
- `DataTable` - 数据表格
- `FormDialog` - 表单弹窗
- `ErrorDisplay` - 错误显示

## 页面设计规范

### 布局结构
```
┌─────────────────────────────────────┐
│ Header (用户信息、登出)            │
├─────────┬───────────────────────────┤
│ Sidebar │ Main Content             │
│ (导航)  │                         │
│         │                         │
│         │                         │
└─────────┴───────────────────────────┘
```

### 权限控制
- 侧边栏根据权限显示菜单
- 页面入口使用PermissionGuard保护
- 操作按钮根据权限显示/隐藏
- API调用自动携带认证信息

### 表格设计
- 分页功能
- 搜索过滤
- 排序功能
- 批量操作
- 响应式设计

### 表单设计
- 实时验证
- 错误提示
- 提交状态
- 取消确认
- 自动保存草稿

## 交互流程

### 登录流程
1. 访问受保护页面
2. 检查登录状态
3. 未登录跳转到登录页
4. 输入用户名密码
5. 验证成功获取令牌
6. 跳转到原页面

### 授权流程
1. 第三方应用请求授权
2. 跳转到授权页面
3. 显示请求的权限
4. 用户确认或拒绝
5. 返回授权结果

### 管理操作流程
1. 进入管理页面
2. 权限检查
3. 显示数据列表
4. 执行CRUD操作
5. 实时更新界面